
-- =================================================================
-- SEED DATA: ข้อมูลเริ่มต้นสำหรับระบบ
-- =================================================================

-- 1. บันทึกค่าเริ่มต้นลงในตาราง app_settings (ID = 1)
-- ข้อมูลนี้ตรงกับ DEFAULT_SETTINGS ใน services/dataService.ts
insert into public.app_settings (
  id, 
  departments, 
  technician_positions, 
  technician_categories, 
  expense_categories, 
  companies,
  theme_color,
  id_mappings,
  pm_types,
  repair_groups,
  divisions,
  factory_groups,
  department_group_mappings,
  division_mappings
)
values (
  1,
  -- รายชื่อแผนก (Departments)
  '[
    "แผนกผสมกากเชื้อเพลิงของแข็ง 1 (RDF1)",
    "แผนกผสมกากเชื้อเพลิงของแข็ง 2 (RDF2)",
    "แผนกเตรียมวัตถุดิบและ N5 (SMP)",
    "แผนกปรับปรุงคุณภาพกาก เตรียมกาก (SPE)",
    "แผนกปรับปรุงคุณภาพกาก บำบัดกาก (STA)",
    "แผนกกำจัดกากปนเปื้อน (HAZ)",
    "แผนกกำจัดกาทั่วไป (NON)",
    "แผนกระบบปรับปรุงคุณภาพน้ำ HAZ (PLH)",
    "แผนกระบบปรับปรุงคุณภาพน้ำ NON (PLN)",
    "แผนกวิชาการสิ่งแวดล้อมและความปลอดภัย (ENV)",
    "แผนกบริหารทรัพยากรบุคคล (HRM)",
    "แผนกผสมกากเชื้อเพลิงของเหลว (LBL)",
    "แผนกจัดการรถขนส่งและภาชนะบรรจุ (CON)",
    "แผนกวิศวกรรมซ่อมบำรุง (MTN)",
    "แผนกสื่อสารองค์กร (COC)",
    "แผนกปฏิบัติการ (OPE)",
    "แผนกตรวจสอบคุณภาพ (QCI)",
    "แผนกวางแผนการผลิตและขาย (PPS)",
    "แผนกโครงการพิเศษฯ (PRO)",
    "แผนกธุรการขนส่ง (ADD)",
    "แผนกซ่อมบำรุง RDF (MER)",
    "แผนกวิศวกรรมยานยนต์ (MOT)",
    "แผนกบริหารสินทรัพย์ (ASM)",
    "แผนกปฏิบัติการวิเคราะห์ (LAB)",
    "แผนกข้อมูลตรวจรับกาก (CIW)",
    "แผนกดรอส (DROSS)",
    "แผนกก่อสร้าง (CST)",
    "แผนกเทคโนโลยีสารสนเทศ (IT)",
    "แผนกวิจัยและพัฒนา (RD)"
  ]'::jsonb,
  
  -- ตำแหน่งงาน
  '["ช่าง", "แอดมิน", "หัวหน้าแผนก"]'::jsonb,
  
  -- หมวดงานช่าง
  '["ไฟฟ้า", "ประปา", "เครื่องปรับอากาศ (แอร์)", "ซ่อมทั่วไป/เซอร์วิส", "ก่อสร้าง/โครงสร้าง", "ยานยนต์"]'::jsonb,
  
  -- หมวดค่าใช้จ่าย
  '[
    "ค่าซ่อมบำรุงตามรายการบัญชีเครื่องมือเครื่องจักร",
    "ค่าซ่อมทั่วไปตามใบแจ้งซ่อม-ซ่อมภายใน",
    "ค่าซ่อมทั่วไปตามใบแจ้งซ่อม-ซ่อมภายนอก",
    "ค่าซ่อมเครื่องปรับอากาศ (แอร์)",
    "ค่าซ่อมบำรุงเครื่องจักรเคลื่อนที่ รถบด รถน้ำ รถดับเพลิง รถไถ",
    "ค่าซ่อมปั๊มสูบน้ำ/เครื่องเจน",
    "ค่าซ่อมรถยนต์ส่วนกลาง/โครงการพิเศษ",
    "ค่าซ่อมรถจักรยานยนต์/รถสามล้อ"
  ]'::jsonb,

  -- บริษัท
  '["BWG", "BG", "BME", "BWT", "BWC", "PF"]'::jsonb,

  -- ธีมสีเริ่มต้น
  'INDIGO',

  -- ID Mappings (Default)
  '[
      {"category": "ยานยนต์", "prefix": "MOT"},
      {"category": "ไฟฟ้า", "prefix": "MTN"},
      {"category": "ประปา", "prefix": "MTN"},
      {"category": "เครื่องปรับอากาศ (แอร์)", "prefix": "MTN"},
      {"category": "ซ่อมทั่วไป/เซอร์วิส", "prefix": "MTN"},
      {"category": "ก่อสร้าง/โครงสร้าง", "prefix": "MTN"}
  ]'::jsonb,

  -- ประเภททรัพย์สิน (Asset Types) - Added "เครื่องปรับอากาศ"
  '[
      "หม้อแปลงไฟฟ้า",
      "ตู้ควบคุมหม้อแปลงไฟฟ้า",
      "เสาล่อฟ้า",
      "ตู้ควบคุมเครื่องจักร",
      "ปั๊มน้ำดี",
      "ปั๊มน้ำเสีย",
      "ปั๊มลม",
      "มอเตอร์+ปั๊ม",
      "มอเตอร์",
      "เครื่องกำเนิดไฟฟ้า",
      "เครื่องซีลผ้า",
      "ระบบบำบัดอากาศ",
      "เครื่องเติมอากาศ",
      "เครื่องดูดอากาศ",
      "เครื่องปรับอากาศ",
      "รถโฟคลิฟท์",
      "รถคีบไฮดรอลิค",
      "รถสิบล้อ",
      "รถ Roll Off",
      "รถแทรกเตอร์",
      "รถบดถนน",
      "รถน้ำ/รถดับเพลิง",
      "รถบรรทุกกระเช้าไฟฟ้า",
      "รถ Vaccum",
      "เครื่องยนต์เบนซิน",
      "เครื่องยนต์ดีเซล",
      "พญานาคสูบน้ำซิ่ง",
      "ปั๊มสูบน้ำเครื่องยนต์",
      "ปั๊มลมเครื่องยนต์",
      "เครื่องตัดหญ้าเบนซิน",
      "กะบะ 4 ประตู",
      "กะบะแค๊ป",
      "รถยนต์ 4 ประตู",
      "รถตู้",
      "รถจักรยานยนต์",
      "รถสามล้อ"
  ]'::jsonb,

  -- กลุ่มงานซ่อม (Repair Groups)
  '[
      "ซ่อมภายใน",
      "ส่งซ่อมภายนอก",
      "ซื้ออุปกรณ์",
      "งานโครงการคุณภาพ",
      "ซ่อมไม่ได้",
      "ยกเลิกงานซ่อม"
  ]'::jsonb,

  -- หน่วยงาน (Divisions)
  '[
      {"name": "ซ่อมบำรุง", "code": "MTN"},
      {"name": "ยานยนต์", "code": "MOT"}
  ]'::jsonb,

  -- กลุ่มโรงงาน (Factory Groups)
  '["โรงงาน 101", "โรงงาน 106"]'::jsonb,

  -- แผนที่แผนก-กลุ่มโรงงาน (Department Mappings)
  '{
    "แผนกผสมกากเชื้อเพลิงของแข็ง 1 (RDF1)": "โรงงาน 101",
    "แผนกผสมกากเชื้อเพลิงของแข็ง 2 (RDF2)": "โรงงาน 101",
    "แผนกเตรียมวัตถุดิบและ N5 (SMP)": "โรงงาน 101",
    "แผนกปรับปรุงคุณภาพกาก เตรียมกาก (SPE)": "โรงงาน 101",
    "แผนกปรับปรุงคุณภาพกาก บำบัดกาก (STA)": "โรงงาน 101",
    "แผนกกำจัดกากปนเปื้อน (HAZ)": "โรงงาน 106",
    "แผนกกำจัดกาทั่วไป (NON)": "โรงงาน 106",
    "แผนกระบบปรับปรุงคุณภาพน้ำ HAZ (PLH)": "โรงงาน 106",
    "แผนกระบบปรับปรุงคุณภาพน้ำ NON (PLN)": "โรงงาน 106",
    "แผนกวิชาการสิ่งแวดล้อมและความปลอดภัย (ENV)": "โรงงาน 106",
    "แผนกบริหารทรัพยากรบุคคล (HRM)": "โรงงาน 106",
    "แผนกผสมกากเชื้อเพลิงของเหลว (LBL)": "โรงงาน 101",
    "แผนกจัดการรถขนส่งและภาชนะบรรจุ (CON)": "โรงงาน 101",
    "แผนกวิศวกรรมซ่อมบำรุง (MTN)": "โรงงาน 106",
    "แผนกสื่อสารองค์กร (COC)": "โรงงาน 106",
    "แผนกปฏิบัติการ (OPE)": "โรงงาน 106",
    "แผนกตรวจสอบคุณภาพ (QCI)": "โรงงาน 106",
    "แผนกวางแผนการผลิตและขาย (PPS)": "โรงงาน 106",
    "แผนกโครงการพิเศษฯ (PRO)": "โรงงาน 106",
    "แผนกธุรการขนส่ง (ADD)": "โรงงาน 106",
    "แผนกซ่อมบำรุง RDF (MER)": "โรงงาน 101",
    "แผนกวิศวกรรมยานยนต์ (MOT)": "โรงงาน 106",
    "แผนกบริหารสินทรัพย์ (ASM)": "โรงงาน 106",
    "แผนกปฏิบัติการวิเคราะห์ (LAB)": "โรงงาน 106",
    "แผนกข้อมูลตรวจรับกาก (CIW)": "โรงงาน 106",
    "แผนกดรอส (DROSS)": "โรงงาน 101",
    "แผนกก่อสร้าง (CST)": "โรงงาน 106",
    "แผนกเทคโนโลยีสารสนเทศ (IT)": "โรงงาน 106",
    "แผนกวิจัยและพัฒนา (RD)": "โรงงาน 106"
  }'::jsonb,

  -- แผนที่หมวดงาน-หน่วยงาน (Division Mappings)
  '{
      "ไฟฟ้า": "MTN",
      "ประปา": "MTN",
      "เครื่องปรับอากาศ (แอร์)": "MTN",
      "ซ่อมทั่วไป/เซอร์วิส": "MTN",
      "ก่อสร้าง/โครงสร้าง": "MTN",
      "ยานยนต์": "MOT"
  }'::jsonb
)
on conflict (id) do update set
  departments = excluded.departments,
  technician_positions = excluded.technician_positions,
  technician_categories = excluded.technician_categories,
  expense_categories = excluded.expense_categories,
  companies = excluded.companies,
  theme_color = excluded.theme_color,
  id_mappings = excluded.id_mappings,
  pm_types = excluded.pm_types,
  budget_categories = excluded.budget_categories,
  repair_groups = excluded.repair_groups,
  divisions = excluded.divisions,
  factory_groups = excluded.factory_groups,
  department_group_mappings = excluded.department_group_mappings,
  division_mappings = excluded.division_mappings;
